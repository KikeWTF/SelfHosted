---
- name: "Check that the 'public' newtork exists"
  community.docker.docker_network_info:
    name: 'public'
  register: 'docker_network_public'

- name: 'Check that the Dozzle domain is defined'
  ansible.builtin.fail:
    msg: "The Dozzle domain (dozzle_domain) is required when using the public network."
  when: 'docker_network_public.exists and dozzle_domain|trim|length == 0'
...
